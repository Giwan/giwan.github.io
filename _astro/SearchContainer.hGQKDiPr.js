import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o,R as N}from"./index.DbEQb2qg.js";import{C as g,a as h,b as E,c as S}from"./card.B4jlyeOY.js";import"./utils.CDN07tui.js";function T(){const[t,r]=o.useState();return o.useEffect(()=>{const i=()=>new URLSearchParams(window.location.search).get("q");r(i());const s=()=>{r(i())};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[]),[t,i=>{const s=new URL(window.location.href);i?s.searchParams.set("q",i):s.searchParams.delete("q"),window.history.pushState({},"",s),r(i)}]}const d={form:"relative transition-all duration-300",container:"relative flex items-center w-full",iconContainer:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground",input:"w-full pl-12 pr-24 py-4 font-sans text-lg bg-background border border-input rounded-lg outline-none focus:border-primary focus:ring-2 focus:ring-ring placeholder-muted-foreground text-foreground transition-all duration-200",shortcutHint:"absolute right-24 top-1/2 transform -translate-y-1/2 hidden md:flex items-center text-sm text-muted-foreground",shortcutKey:"px-1.5 py-0.5 border border-border rounded font-mono bg-muted",submitButton:"absolute right-0 top-0 bottom-0 w-20 bg-primary text-primary-foreground font-medium px-4 rounded-r-lg hover:bg-primary/90 focus:ring-2 focus:ring-offset-2 focus:ring-ring transition-all duration-200 font-sans"},R=function({handleSearch:t}){const[r,n]=T(),[i,s]=o.useState(r??""),[c,u]=o.useState("⌘"),l=o.useRef(null);o.useEffect(()=>{r!==void 0&&(t(r),s(r??""))},[r,t]),o.useEffect(()=>{const p=typeof navigator<"u"&&/Mac|iPhone|iPod|iPad/.test(navigator.platform);u(p?"⌘":"Ctrl");const f=m=>{if(m.isComposing||m.keyCode===229)return;const v=m.key?.toLowerCase()==="k",w=m.metaKey||m.ctrlKey;v&&w&&(m.preventDefault(),l.current?.focus(),l.current?.select())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[]);const y=p=>{p.preventDefault();const f=i.trim();n(f)},j=p=>{s(p.target.value)};return e.jsx("div",{className:"w-full",children:e.jsx("form",{onSubmit:y,className:d.form,children:e.jsxs("div",{className:d.container,children:[e.jsx("div",{className:d.iconContainer,children:e.jsx(k,{})}),e.jsx("input",{type:"search",name:"q",className:d.input,placeholder:"Search articles...",value:i,ref:l,onChange:j,"aria-label":"Search articles"}),e.jsxs("div",{className:d.shortcutHint,children:[e.jsx("span",{className:`${d.shortcutKey} mr-1`,children:c}),e.jsx("span",{className:d.shortcutKey,children:"K"})]}),e.jsx("button",{className:d.submitButton,type:"submit","aria-label":"Search",children:"Search"})]})})})},k=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a={SECTION_CONTAINER:"space-y-6",EMPTY_CARD:"bg-card border-border text-center py-12 px-6 rounded-none border-t-2 border-primary/20",EMPTY_TEXT:"font-serif italic text-muted-foreground text-lg",NO_RESULTS_HEADER:"font-heading text-2xl font-black uppercase text-foreground mb-2",SUGGESTION_TITLE:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground mb-4 block",RESULT_CARD:"shadow-none transition-all duration-300 border-0 border-l-4 border-primary rounded-none bg-background group/card hover:bg-muted/30 focus-within:ring-2 focus-within:ring-primary",RESULT_TITLE:"text-xl font-black text-foreground group-hover:text-primary transition-colors leading-tight tracking-tight uppercase mb-3",RESULT_DATE:"font-serif italic text-muted-foreground text-sm",READ_MORE:"text-[10px] font-mono uppercase tracking-widest text-primary font-bold group-hover:underline",STAT_CARD:"bg-primary/5 border-primary/20 rounded-none border-t-4",STAT_TITLE:"text-[10px] font-mono uppercase tracking-widest text-muted-foreground",STAT_VALUE:"text-2xl font-black text-primary uppercase"},C=()=>e.jsx("div",{className:a.EMPTY_CARD,children:e.jsx("p",{className:a.EMPTY_TEXT,children:"Enter a search term to find articles in our archives"})}),L=({keyword:t})=>e.jsx(g,{className:"rounded-none border-t-4 border-destructive/50 bg-destructive/5",children:e.jsxs(h,{className:"pt-8 text-center",children:[e.jsx("h3",{className:a.NO_RESULTS_HEADER,children:"No results found"}),e.jsxs("p",{className:"font-serif italic text-muted-foreground mb-8",children:[`We couldn't find any articles matching "`,e.jsx("span",{className:"font-bold text-destructive",children:t}),'"']}),e.jsxs("div",{className:"border-t border-border pt-6 max-w-sm mx-auto text-left",children:[e.jsx("span",{className:a.SUGGESTION_TITLE,children:"Suggestions"}),e.jsxs("ul",{className:"text-muted-foreground list-disc pl-5 space-y-2 font-serif italic text-sm",children:[e.jsx("li",{children:"Check your spelling for typos"}),e.jsx("li",{children:"Try using more general keywords"}),e.jsx("li",{children:"Search for broader topics or eras"})]})]})]})}),_=({count:t,keyword:r})=>e.jsxs(g,{className:a.STAT_CARD,children:[e.jsx(E,{className:"pb-2",children:e.jsx(S,{className:a.STAT_TITLE,children:"Search Discovery"})}),e.jsx(h,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline sm:gap-4",children:[e.jsxs("span",{className:a.STAT_VALUE,"aria-live":"polite",children:[t," ",t===1?"Result":"Results"]}),e.jsxs("span",{className:"font-serif italic text-muted-foreground text-sm",children:['found for "',r,'"']})]})})]}),A=({result:t})=>e.jsx(g,{className:a.RESULT_CARD,children:e.jsx(h,{className:"p-6",children:e.jsxs("a",{href:`/blog/${t.id}`,className:"block group focus:outline-none","aria-label":`Read article: ${t.title}`,children:[e.jsx("h3",{className:a.RESULT_TITLE,children:t.title}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("p",{className:a.RESULT_DATE,children:t.date}),e.jsx("span",{className:a.READ_MORE,"aria-hidden":"true",children:"Read Story →"})]})]})})}),D=N.memo(function({searchData:t}){if(!t?.keyword)return e.jsx(C,{});const{results:r,keyword:n}=t,i=r?.length||0;return i===0?e.jsx(L,{keyword:n}):e.jsxs("div",{className:a.SECTION_CONTAINER,children:[e.jsx(_,{count:i,keyword:n}),e.jsx("div",{className:"space-y-4",role:"list",children:r.map(s=>e.jsx("div",{role:"listitem",children:e.jsx(A,{result:s})},s.id))})]})}),I=[{id:"2018-01-05-vscode-debugging",date:"2018-01-05",title:"vscode debugging"},{id:"2018-11-11-react-instead-of-jsp",date:"2018-11-11",title:"react instead of jsp"},{id:"2018-11-11-ssr-with-react",date:"2018-11-11",title:"ssr with react"},{id:"2018-11-22-react-served-by-express-running-in-docker",date:"2018-11-22",title:"react served by express running in docker"},{id:"2018-12-29-free-static-site",date:"2018-12-29",title:"free static site"},{id:"2019-12-13-browser-tools",date:"2019-12-13",title:"browser tools"},{id:"2019-12-15-svelte",date:"2019-12-15",title:"svelte"},{id:"2020-02-04-jest-coverage",date:"2020-02-04",title:"jest coverage"},{id:"2020-05-19-ssr-with-react-redux",date:"2020-05-19",title:"ssr with react redux"},{id:"2020-09-24-javascript-uncanny-valley",date:"2020-09-24",title:"javascript uncanny valley"},{id:"2020-09-29-uuid-as-apassword",date:"2020-09-29",title:"uuid as apassword"},{id:"2020-1-16-css-grid",title:"2020-1-16-css-grid"},{id:"2020-10-01-grid-one-line",date:"2020-10-01",title:"grid one line"},{id:"2020-10-05-serverless-functions-on-netlify",date:"2020-10-05",title:"serverless functions on netlify"},{id:"2020-10-06-deploy-serverless-function-on-netlify",date:"2020-10-06",title:"deploy serverless function on netlify"},{id:"2020-10-15-browser-debugging-with-breakpoints",date:"2020-10-15",title:"browser debugging with breakpoints"},{id:"2020-10-18-loop-vs-function",date:"2020-10-18",title:"loop vs function"},{id:"2020-12-03-jsonresume",date:"2020-12-03",title:"jsonresume"},{id:"2020-12-23-animation",date:"2020-12-23",title:"animation"},{id:"2021-01-12-whatsapp-by-facebook",date:"2021-01-12",title:"whatsapp by facebook"},{id:"2021-01-23-next-js-blog",date:"2021-01-23",title:"next js blog"},{id:"2021-03-06-vue-js-solar",date:"2021-03-06",title:"vue js solar"},{id:"2021-04-11-electron-basics",date:"2021-04-11",title:"electron basics"},{id:"2021-04-11-electron-save-file",date:"2021-04-11",title:"electron save file"},{id:"2021-08-07-pagination",date:"2021-08-07",title:"pagination"},{id:"2021-10-09-publish-pagination",date:"2021-10-09",title:"publish pagination"},{id:"2022-01-10-recursive-function",date:"2022-01-10",title:"recursive function"},{id:"2022-05-02-tools",date:"2022-05-02",title:"tools"},{id:"2022-09-19-applicant-list",date:"2022-09-19",title:"applicant list"},{id:"2024-01-21-deploy-astro-static-on-deno-deploy",date:"2024-01-21",title:"deploy astro static on deno deploy"},{id:"2025-05-31-prompt-engineering-do-dont",date:"2025-05-31",title:"prompt engineering do dont"},{id:"2025-06-14-claude-code-feature-output",date:"2025-06-14",title:"claude code feature output"},{id:"2025-08-20-intl-segmenter",date:"2025-08-20",title:"intl segmenter"},{id:"2025-08-27-best-note-taking-tools",date:"2025-08-27",title:"best note taking tools"},{id:"2025-10-29-top-10-sites-blocking-openai-bot",date:"2025-10-29",title:"top 10 sites blocking openai bot"},{id:"2025-11-24-building-basic-pomo-with-antigravity",date:"2025-11-24",title:"building basic pomo with antigravity"},{id:"2025-12-15-remix-run-how-it-works",date:"2025-12-15",title:"remix run how it works"},{id:"2025-12-16-the-windows-11-crisis",date:"2025-12-16",title:"the windows 11 crisis"},{id:"2025-12-19-project-vend-ai-vending-machine",date:"2025-12-19",title:"project vend ai vending machine"},{id:"2026-01-05-free-ai-learning-resources-nvidia-google-microsoft",date:"2026-01-05",title:"free ai learning resources nvidia google microsoft"},{id:"2026-01-13-ucp-protocol",date:"2026-01-13",title:"ucp protocol"},{id:"2026-01-14-google-tools-for-developers",date:"2026-01-14",title:"google tools for developers"}],x=".*",P="|",b=120,U=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),K=(t,r=x)=>{const n=t?.trim();if(!n||n.length>b)return null;const i=n.split(/\s+/).map(U).filter(Boolean);if(!i.length)return null;try{return new RegExp(i.join(r),"i")}catch{return null}},M=t=>(r=x)=>K(t,r),O=t=>r=>{const n=r?.trim()??"";if(!n||n.length>b)return[];const i=M(n),s=u=>u?t.filter(l=>u.test(l.title)):[];let c=s(i());return c.length||(c=s(i(P))),c},$=function(){const[t,r]=o.useState({}),[n,i]=o.useState(!1),s=o.useRef(null),c=o.useCallback(u=>{const l=u?.trim()??"";if(s.current&&(clearTimeout(s.current),s.current=null),!l){r({}),i(!1);return}i(!0),s.current=window.setTimeout(()=>{r({keyword:l,results:O(I)(l)}),i(!1),s.current=null},300)},[]);return o.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),e.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[e.jsxs("header",{className:"mb-8 text-center bg-card rounded-lg p-6 border border-border",children:[e.jsx("h2",{className:"font-heading text-2xl font-bold text-foreground mb-3",children:"Search Articles"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Find stories, interviews, and insights from our archives"})]}),e.jsx("section",{className:"mb-8",children:e.jsx(R,{handleSearch:c})}),e.jsx("section",{className:"min-h-[200px]","aria-live":"polite",children:n?e.jsx(V,{}):e.jsx(D,{searchData:t})})]})},V=()=>e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center bg-muted rounded-lg p-8 border border-border",children:[e.jsx("div",{className:"h-8 w-8 border-t-2 border-b-2 border-primary rounded-full animate-spin mb-3"}),e.jsx("p",{className:"text-muted-foreground italic",children:"Searching archives..."})]})});export{$ as default};
