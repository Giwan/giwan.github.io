import{j as m}from"./jsx-runtime.D_zvdyIk.js";import{B as T}from"./button.C48yv3co.js";import{r as d}from"./index.BVOCwoKb.js";import{c as y}from"./createLucideIcon.tO8mbuOy.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],E=y("monitor",v);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],S=y("moon",x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],p=y("sun",N),_="modulepreload",j=function(t){return"/"+t},k={},b=function(c,a,f){let l=Promise.resolve();if(a&&a.length>0){let e=function(s){return Promise.all(s.map(r=>Promise.resolve(r).then(i=>({status:"fulfilled",value:i}),i=>({status:"rejected",reason:i}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),u=n?.nonce||n?.getAttribute("nonce");l=e(a.map(s=>{if(s=j(s),s in k)return;k[s]=!0;const r=s.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${i}`))return;const o=document.createElement("link");if(o.rel=r?"stylesheet":_,r||(o.as="script"),o.crossOrigin="",o.href=s,u&&o.setAttribute("nonce",u),document.head.appendChild(o),r)return new Promise((g,w)=>{o.addEventListener("load",g),o.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${s}`)))})}))}function h(e){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=e,window.dispatchEvent(n),!n.defaultPrevented)throw e}return l.then(e=>{for(const n of e||[])n.status==="rejected"&&h(n.reason);return c().catch(h)})};typeof window<"u"&&b(()=>import("./transitionController.DXuiG6hA.js").then(t=>t.c),[]).then(t=>{t.transitionController});const L=()=>{const[t,c]=d.useState("system"),[a,f]=d.useState("light");return d.useEffect(()=>{const e=localStorage.getItem("theme");e&&["light","dark","system"].includes(e)&&c(e)},[]),d.useEffect(()=>{const e=()=>{const s=document.documentElement;let r;t==="system"?r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r=t,f(r);const i=()=>{r==="dark"?(s.classList.add("dark"),s.setAttribute("data-theme","dark")):(s.classList.remove("dark"),s.setAttribute("data-theme","light"))},o=document.documentElement.hasAttribute("data-transition-direction");if(typeof document<"u"&&"startViewTransition"in document&&!o)try{document.startViewTransition(()=>i())}catch(g){console.warn("View transition failed, using fallback:",g),i()}else i();localStorage.setItem("theme",t)};e();const n=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{t==="system"&&e()};return n.addEventListener("change",u),()=>{n.removeEventListener("change",u)}},[t]),{theme:t,resolvedTheme:a,toggleTheme:()=>{c(e=>{switch(e){case"light":return"dark";case"dark":return"system";case"system":return"light";default:return"light"}})},setTheme:e=>{c(e)}}},C=()=>{const{theme:t,toggleTheme:c}=L(),a=d.useRef(null),f=()=>{switch(t){case"light":return m.jsx(p,{className:"h-4 w-4"});case"dark":return m.jsx(S,{className:"h-4 w-4"});case"system":return m.jsx(E,{className:"h-4 w-4"});default:return m.jsx(p,{className:"h-4 w-4"})}},l=()=>{switch(t){case"light":return"Switch to dark mode";case"dark":return"Switch to system theme";case"system":return"Switch to light mode";default:return"Toggle theme"}},h=()=>{if(document.documentElement.hasAttribute("data-transition-direction")){const n=()=>{c(),document.removeEventListener("astro:after-swap",n)};document.addEventListener("astro:after-swap",n)}else c()};return d.useEffect(()=>{a.current&&(a.current.style.viewTransitionName="theme-toggle")},[]),m.jsxs(T,{ref:a,variant:"ghost",size:"icon",onClick:h,title:l(),className:"h-9 w-9",style:{viewTransitionName:"theme-toggle"},children:[f(),m.jsx("span",{className:"sr-only",children:l()})]})};export{C as ThemeToggle};
