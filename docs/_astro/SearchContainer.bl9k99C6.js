import{j as e}from"./jsx-runtime.9YwcPWTT.js";import{r as o}from"./index.LFf77hJu.js";function u(){const[r,s]=o.useState();return o.useEffect(()=>{const t=new URLSearchParams(location.search).get("q");s(t)},[]),[r,t=>{t&&(location.search=`?q=${t}`,s(t))}]}const m=function({handleSearch:r}){const[s,a]=u(),[t,i]=o.useState(!1),l=o.useRef();o.useEffect(()=>{s&&r(s)},[s]),o.useEffect(()=>{const d=n=>{if(n.isComposing||n.keyCode===229)return;n.keyCode===75&&(n.metaKey||n.ctrlKey)&&(n.preventDefault(),l.current.focus(),l.current.select())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]);const c=d=>{d.preventDefault();const n=d?.currentTarget?.q?.value;a(n),r(n)};return e.jsx("div",{className:"w-full",children:e.jsx("form",{onSubmit:c,className:`relative transition-all duration-300 ${t?"shadow-paper-lg":"shadow-paper"}`,children:e.jsxs("div",{className:"relative flex items-center w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"search",name:"q",className:"w-full pl-12 pr-24 py-4 font-sans text-lg bg-paper border border-border rounded-sm outline-none focus:border-accent placeholder-muted",placeholder:"Search articles...",defaultValue:s,ref:l,onFocus:()=>i(!0),onBlur:()=>i(!1),"aria-label":"Search articles"}),e.jsxs("div",{className:"absolute right-24 top-1/2 transform -translate-y-1/2 hidden md:flex items-center text-sm text-muted",children:[e.jsx("span",{className:"px-1 py-0.5 border border-muted rounded-sm mr-1 font-mono",children:"⌘"}),e.jsx("span",{className:"px-1 py-0.5 border border-muted rounded-sm font-mono",children:"K"})]}),e.jsx("button",{className:"absolute right-0 top-0 bottom-0 w-20 bg-primary text-paper font-medium px-4 rounded-r-sm hover:bg-accent focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors duration-200 font-sans",type:"submit","aria-label":"Search",children:"Search"})]})})})},h=function({searchData:r}){if(!r?.keyword)return e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"font-sans text-muted text-base",children:"Enter a search term to find articles"})});const{results:s,keyword:a}=r,t=s?.length||0;return t===0?e.jsx("div",{className:"bg-paperDark p-6 rounded-sm shadow-inner-sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("h3",{className:"font-heading text-xl text-heading mb-2 font-semibold",children:"No results found"}),e.jsxs("p",{className:"font-serif text-body text-base mb-4",children:[`We couldn't find any articles matching "`,e.jsx("span",{className:"font-bold",children:a}),'"']}),e.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[e.jsx("h4",{className:"font-heading text-lg mb-2 font-semibold",children:"Suggestions:"}),e.jsxs("ul",{className:"text-body text-left list-disc pl-8 text-base",children:[e.jsx("li",{children:"Check your spelling"}),e.jsx("li",{children:"Try using more general keywords"}),e.jsx("li",{children:"Try searching for related topics"})]})]})]})}):e.jsxs("div",{children:[e.jsx("div",{className:"border-b-3 border-primary pb-2 mb-6",children:e.jsxs("p",{className:"font-heading text-lg font-semibold","aria-live":"polite",children:[e.jsx("span",{className:"font-bold",children:t})," ",t===1?"result":"results"," for:",e.jsxs("span",{className:"bg-highlight px-2 ml-2 font-serif italic",children:['"',a,'"']})]})}),e.jsx("ul",{className:"space-y-6",children:s?.map(i=>e.jsx("li",{className:"pb-6 border-b border-border last:border-b-0",children:e.jsxs("a",{href:`/blog/${i.id}`,className:"block transition-colors duration-200 hover:bg-paperDark p-4 -m-4 rounded-sm",children:[e.jsx("h3",{className:"font-heading text-xl text-heading mb-2 hover:text-accent font-semibold",children:i.title}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-serif text-muted text-base",children:i.date}),e.jsx("span",{className:"text-accent text-base font-semibold",children:"Read article →"})]})]})},i.id))})]})},f=[{id:"2018-01-05-vscode-debugging",date:"2018-01-05",title:"vscode debugging"},{id:"2018-11-11-react-instead-of-jsp",date:"2018-11-11",title:"react instead of jsp"},{id:"2018-11-11-ssr-with-react",date:"2018-11-11",title:"ssr with react"},{id:"2018-11-22-react-served-by-express-running-in-docker",date:"2018-11-22",title:"react served by express running in docker"},{id:"2018-12-29-free-static-site",date:"2018-12-29",title:"free static site"},{id:"2019-12-13-browser-tools",date:"2019-12-13",title:"browser tools"},{id:"2019-12-15-svelte",date:"2019-12-15",title:"svelte"},{id:"2020-02-04-jest-coverage",date:"2020-02-04",title:"jest coverage"},{id:"2020-05-19-ssr-with-react-redux",date:"2020-05-19",title:"ssr with react redux"},{id:"2020-09-24-javascript-uncanny-valley",date:"2020-09-24",title:"javascript uncanny valley"},{id:"2020-09-29-uuid-as-apassword",date:"2020-09-29",title:"uuid as apassword"},{id:"2020-1-16-css-grid",title:"2020-1-16-css-grid"},{id:"2020-10-01-grid-one-line",date:"2020-10-01",title:"grid one line"},{id:"2020-10-05-serverless-functions-on-netlify",date:"2020-10-05",title:"serverless functions on netlify"},{id:"2020-10-06-deploy-serverless-function-on-netlify",date:"2020-10-06",title:"deploy serverless function on netlify"},{id:"2020-10-15-browser-debugging-with-breakpoints",date:"2020-10-15",title:"browser debugging with breakpoints"},{id:"2020-10-18-loop-vs-function",date:"2020-10-18",title:"loop vs function"},{id:"2020-12-03-jsonresume",date:"2020-12-03",title:"jsonresume"},{id:"2020-12-23-animation",date:"2020-12-23",title:"animation"},{id:"2021-01-12-whatsapp-by-facebook",date:"2021-01-12",title:"whatsapp by facebook"},{id:"2021-01-23-next-js-blog",date:"2021-01-23",title:"next js blog"},{id:"2021-03-06-vue-js-solar",date:"2021-03-06",title:"vue js solar"},{id:"2021-04-11-electron-basics",date:"2021-04-11",title:"electron basics"},{id:"2021-04-11-electron-save-file",date:"2021-04-11",title:"electron save file"},{id:"2021-08-07-pagination",date:"2021-08-07",title:"pagination"},{id:"2021-10-09-publish-pagination",date:"2021-10-09",title:"publish pagination"},{id:"2022-01-10-recursive-function",date:"2022-01-10",title:"recursive function"},{id:"2022-05-02-tools",date:"2022-05-02",title:"tools"},{id:"2022-09-19-applicant-list",date:"2022-09-19",title:"applicant list"},{id:"2024-01-21-deploy-astro-static-on-deno-deploy",date:"2024-01-21",title:"deploy astro static on deno deploy"}],p=".*",x="|",b=r=>(s=p)=>{const a=r?.split(/\s/);return new RegExp(a.join(s),"i")},g=r=>s=>{const a=b(s);let t=r.filter(i=>a().test(i.title));return t.length||(t=r.filter(i=>a(x).test(i.title))),t},N=function(){const[r,s]=o.useState({}),[a,t]=o.useState(!1),i=function(l){if(!l||l.trim()===""){s({});return}t(!0),setTimeout(()=>{s({keyword:l,results:g(f)(l)}),t(!1)},300)};return e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"font-heading text-headline text-heading mb-3",children:"Search Articles"}),e.jsx("p",{className:"text-body text-lg font-serif",children:"Find stories, interviews, and insights from our archives"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(m,{handleSearch:i})}),e.jsx("div",{className:"min-h-[200px]",children:a?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"h-8 w-8 border-t-2 border-b-2 border-primary rounded-full animate-spin mb-3"}),e.jsx("p",{className:"text-muted font-serif italic",children:"Searching archives..."})]})}):e.jsx(h,{searchData:r})})]})};export{N as default};
