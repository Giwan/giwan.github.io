import{j as e}from"./jsx-runtime.BJTeMHoC.js";import{r as l}from"./index.CbttJwvd.js";function u(){const[r,s]=l.useState();return l.useEffect(()=>{const t=new URLSearchParams(location.search).get("q");s(t)},[]),[r,t=>{t&&(location.search=`?q=${t}`,s(t))}]}const x=function({handleSearch:r}){const[s,i]=u(),[t,a]=l.useState(!1),o=l.useRef();l.useEffect(()=>{s&&r(s)},[s]),l.useEffect(()=>{const d=n=>{if(n.isComposing||n.keyCode===229)return;n.keyCode===75&&(n.metaKey||n.ctrlKey)&&(n.preventDefault(),o.current.focus(),o.current.select())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]);const c=d=>{d.preventDefault();const n=d?.currentTarget?.q?.value;i(n),r(n)};return e.jsx("div",{className:"w-full",children:e.jsx("form",{onSubmit:c,className:`relative transition-all duration-300 ${t?"shadow-paper-lg":"shadow-paper"}`,children:e.jsxs("div",{className:"relative flex items-center w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"search",name:"q",className:"w-full pl-12 pr-24 py-4 font-sans text-lg bg-background-light border border-border rounded-lg outline-none focus:border-syntax-purple focus:ring-2 focus:ring-syntax-purple/30 placeholder-text-secondary text-text-primary transition-all duration-200",placeholder:"Search articles...",defaultValue:s,ref:o,onFocus:()=>a(!0),onBlur:()=>a(!1),"aria-label":"Search articles"}),e.jsxs("div",{className:"absolute right-24 top-1/2 transform -translate-y-1/2 hidden md:flex items-center text-sm text-text-secondary",children:[e.jsx("span",{className:"px-1.5 py-0.5 border border-border rounded mr-1 font-mono bg-background-highlight",children:"⌘"}),e.jsx("span",{className:"px-1.5 py-0.5 border border-border rounded font-mono bg-background-highlight",children:"K"})]}),e.jsx("button",{className:"absolute right-0 top-0 bottom-0 w-20 bg-primary text-background font-medium px-4 rounded-r-lg hover:bg-accent focus:ring-2 focus:ring-offset-2 focus:ring-syntax-purple transition-all duration-200 font-sans shadow-lg hover:shadow-xl",type:"submit","aria-label":"Search",children:"Search"})]})})})},h=function({searchData:r}){if(!r?.keyword)return e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"font-sans text-muted text-base",children:"Enter a search term to find articles"})});const{results:s,keyword:i}=r,t=s?.length||0;return t===0?e.jsx("div",{className:"bg-background-light p-6 rounded-lg border border-border shadow-lg",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("h3",{className:"font-heading text-xl text-text-primary mb-2 font-semibold",children:"No results found"}),e.jsxs("p",{className:"font-serif text-text-secondary text-base mb-4",children:[`We couldn't find any articles matching "`,e.jsx("span",{className:"font-bold text-syntax-yellow",children:i}),'"']}),e.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[e.jsx("h4",{className:"font-heading text-lg mb-2 font-semibold text-text-primary",children:"Suggestions:"}),e.jsxs("ul",{className:"text-text-secondary text-left list-disc pl-8 text-base space-y-1",children:[e.jsx("li",{children:"Check your spelling"}),e.jsx("li",{children:"Try using more general keywords"}),e.jsx("li",{children:"Try searching for related topics"})]})]})]})}):e.jsxs("div",{children:[e.jsx("div",{className:"border-b-2 border-syntax-purple pb-3 mb-6 bg-background-light rounded-t-lg px-4 py-3",children:e.jsxs("p",{className:"font-heading text-lg font-semibold text-text-primary","aria-live":"polite",children:[e.jsx("span",{className:"font-bold text-syntax-green",children:t})," ",t===1?"result":"results"," for:",e.jsxs("span",{className:"bg-background-highlight px-2 py-1 ml-2 font-serif italic rounded text-syntax-yellow",children:['"',i,'"']})]})}),e.jsx("ul",{className:"space-y-4",children:s?.map(a=>e.jsx("li",{className:"bg-background-light rounded-lg border border-border shadow-md hover:shadow-lg transition-all duration-200",children:e.jsxs("a",{href:`/blog/${a.id}`,className:"block p-6 hover:bg-background-highlight rounded-lg transition-all duration-200 group",children:[e.jsx("h3",{className:"font-heading text-xl text-text-primary mb-3 group-hover:text-accent font-semibold",children:a.title}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-serif text-text-secondary text-base",children:a.date}),e.jsx("span",{className:"text-accent text-base font-semibold group-hover:text-syntax-purple transition-colors duration-200",children:"Read article →"})]})]})},a.id))})]})},p=[{id:"2018-01-05-vscode-debugging",date:"2018-01-05",title:"vscode debugging"},{id:"2018-11-11-react-instead-of-jsp",date:"2018-11-11",title:"react instead of jsp"},{id:"2018-11-11-ssr-with-react",date:"2018-11-11",title:"ssr with react"},{id:"2018-11-22-react-served-by-express-running-in-docker",date:"2018-11-22",title:"react served by express running in docker"},{id:"2018-12-29-free-static-site",date:"2018-12-29",title:"free static site"},{id:"2019-12-13-browser-tools",date:"2019-12-13",title:"browser tools"},{id:"2019-12-15-svelte",date:"2019-12-15",title:"svelte"},{id:"2020-02-04-jest-coverage",date:"2020-02-04",title:"jest coverage"},{id:"2020-05-19-ssr-with-react-redux",date:"2020-05-19",title:"ssr with react redux"},{id:"2020-09-24-javascript-uncanny-valley",date:"2020-09-24",title:"javascript uncanny valley"},{id:"2020-09-29-uuid-as-apassword",date:"2020-09-29",title:"uuid as apassword"},{id:"2020-1-16-css-grid",title:"2020-1-16-css-grid"},{id:"2020-10-01-grid-one-line",date:"2020-10-01",title:"grid one line"},{id:"2020-10-05-serverless-functions-on-netlify",date:"2020-10-05",title:"serverless functions on netlify"},{id:"2020-10-06-deploy-serverless-function-on-netlify",date:"2020-10-06",title:"deploy serverless function on netlify"},{id:"2020-10-15-browser-debugging-with-breakpoints",date:"2020-10-15",title:"browser debugging with breakpoints"},{id:"2020-10-18-loop-vs-function",date:"2020-10-18",title:"loop vs function"},{id:"2020-12-03-jsonresume",date:"2020-12-03",title:"jsonresume"},{id:"2020-12-23-animation",date:"2020-12-23",title:"animation"},{id:"2021-01-12-whatsapp-by-facebook",date:"2021-01-12",title:"whatsapp by facebook"},{id:"2021-01-23-next-js-blog",date:"2021-01-23",title:"next js blog"},{id:"2021-03-06-vue-js-solar",date:"2021-03-06",title:"vue js solar"},{id:"2021-04-11-electron-basics",date:"2021-04-11",title:"electron basics"},{id:"2021-04-11-electron-save-file",date:"2021-04-11",title:"electron save file"},{id:"2021-08-07-pagination",date:"2021-08-07",title:"pagination"},{id:"2021-10-09-publish-pagination",date:"2021-10-09",title:"publish pagination"},{id:"2022-01-10-recursive-function",date:"2022-01-10",title:"recursive function"},{id:"2022-05-02-tools",date:"2022-05-02",title:"tools"},{id:"2022-09-19-applicant-list",date:"2022-09-19",title:"applicant list"},{id:"2024-01-21-deploy-astro-static-on-deno-deploy",date:"2024-01-21",title:"deploy astro static on deno deploy"},{id:"2025-05-31-prompt-engineering-do-dont",date:"2025-05-31",title:"prompt engineering do dont"}],g=".*",f="|",m=r=>(s=g)=>{const i=r?.split(/\s/);return new RegExp(i.join(s),"i")},b=r=>s=>{const i=m(s);let t=r.filter(a=>i().test(a.title));return t.length||(t=r.filter(a=>i(f).test(a.title))),t},w=function(){const[r,s]=l.useState({}),[i,t]=l.useState(!1),a=function(o){if(!o||o.trim()===""){s({});return}t(!0),setTimeout(()=>{s({keyword:o,results:b(p)(o)}),t(!1)},300)};return e.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8 text-center bg-background-light rounded-lg p-6 border border-border shadow-lg",children:[e.jsx("h2",{className:"font-heading text-headline text-text-primary mb-3",children:"Search Articles"}),e.jsx("p",{className:"text-text-secondary text-lg font-serif",children:"Find stories, interviews, and insights from our archives"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(x,{handleSearch:a})}),e.jsx("div",{className:"min-h-[200px]",children:i?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center bg-background-light rounded-lg p-8 border border-border",children:[e.jsx("div",{className:"h-8 w-8 border-t-2 border-b-2 border-syntax-purple rounded-full animate-spin mb-3"}),e.jsx("p",{className:"text-text-secondary font-serif italic",children:"Searching archives..."})]})}):e.jsx(h,{searchData:r})})]})};export{w as default};
