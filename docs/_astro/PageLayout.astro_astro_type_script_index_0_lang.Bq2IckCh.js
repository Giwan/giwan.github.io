var c=(n=>(n.HOME="home",n.BLOG_LIST="blog-list",n.BLOG_POST="blog-post",n.TOOLS_LIST="tools-list",n.TOOLS_CATEGORY="tools-category",n.SEARCH="search",n.ABOUT="about",n.CONTACT="contact",n.OFFLINE="offline",n.NOT_FOUND="not-found",n.UNKNOWN="unknown",n))(c||{});class u{routePatterns=[];transitionConfigs=new Map;defaultTransition;pageMetadataCache=new Map;constructor(){this.initializeDefaultPatterns(),this.initializeDefaultTransitions(),this.defaultTransition=this.createDefaultTransition()}initializeDefaultPatterns(){this.routePatterns=[{pattern:/^\/blog\/[\w-]+\/$/,pageType:"blog-post",priority:100},{pattern:/^\/blog\/?$/,pageType:"blog-list",priority:90},{pattern:/^\/tools\/[^\/]+\/?$/,pageType:"tools-category",priority:100},{pattern:/^\/tools\/?$/,pageType:"tools-list",priority:90},{pattern:/^\/search/,pageType:"search",priority:80},{pattern:/^\/about\/?$/,pageType:"about",priority:70},{pattern:/^\/contact\/?$/,pageType:"contact",priority:70},{pattern:/^\/offline\/?$/,pageType:"offline",priority:70},{pattern:/^\/404\/?$/,pageType:"not-found",priority:70},{pattern:/^\/?$/,pageType:"home",priority:10}],this.routePatterns.sort((t,e)=>e.priority-t.priority)}initializeDefaultTransitions(){this.transitionConfigs.set("slide-forward",{name:"slide-forward",duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",cssClass:"transition-slide-forward",elements:[{selector:"main",transitionName:"main-content",animation:{keyframes:"slide-in-right",duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}}]}),this.transitionConfigs.set("slide-backward",{name:"slide-backward",duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",cssClass:"transition-slide-backward",elements:[{selector:"main",transitionName:"main-content",animation:{keyframes:"slide-in-left",duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}}]}),this.transitionConfigs.set("fade",{name:"fade",duration:250,easing:"ease-in-out",cssClass:"transition-fade",elements:[{selector:"main",transitionName:"main-content",animation:{keyframes:"fade-in",duration:250,easing:"ease-in-out"}}]}),this.transitionConfigs.set("scale-up",{name:"scale-up",duration:350,easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",cssClass:"transition-scale-up",elements:[{selector:"main",transitionName:"main-content",animation:{keyframes:"scale-in",duration:350,easing:"cubic-bezier(0.0, 0.0, 0.2, 1)"}}]}),this.transitionConfigs.set("scale-down",{name:"scale-down",duration:350,easing:"cubic-bezier(0.4, 0.0, 1, 1)",cssClass:"transition-scale-down",elements:[{selector:"main",transitionName:"main-content",animation:{keyframes:"scale-out",duration:350,easing:"cubic-bezier(0.4, 0.0, 1, 1)"}}]}),this.transitionConfigs.set("crossfade",{name:"crossfade",duration:400,easing:"ease-in-out",cssClass:"transition-crossfade",elements:[{selector:"main",transitionName:"main-content",animation:{keyframes:"crossfade",duration:400,easing:"ease-in-out"}}],conditions:[{type:"media-query",condition:"(prefers-reduced-motion: reduce)",fallback:this.transitionConfigs.get("fade")}]})}createDefaultTransition(){return{name:"default",duration:200,easing:"ease-in-out",cssClass:"transition-default",elements:[{selector:"main",transitionName:"main-content",animation:{keyframes:"fade-in",duration:200,easing:"ease-in-out"}}]}}registerTransition(t,e){this.routePatterns.push(t),this.routePatterns.sort((i,a)=>a.priority-i.priority),this.transitionConfigs.set(e.name,e)}registerPageType(t,e){const i={type:e,level:this.calculateRouteLevel(t),category:this.extractCategory(t),parentRoute:this.findParentRoute(t),childRoutes:this.findChildRoutes(t)};this.pageMetadataCache.set(t,i)}getPageType(t){const e=this.pageMetadataCache.get(t);if(e)return e.type;for(const i of this.routePatterns)if(this.matchesPattern(t,i.pattern))return i.pageType;return"unknown"}getTransitionForNavigation(t){const e=this.selectTransitionName(t),i=this.transitionConfigs.get(e);return i||(console.warn(`Transition '${e}' not found, using default`),this.defaultTransition)}setDefaultTransition(t){this.defaultTransition=t}getDefaultTransition(){return this.defaultTransition}getPageRelationship(t,e,i,a){if(t===e)return"sibling";if(t==="blog-list"&&e==="blog-post"||t==="blog-post"&&e==="blog-list"||t==="tools-list"&&e==="tools-category"||t==="tools-category"&&e==="tools-list")return"parent-child";const s=[["blog-list","tools-list"],["about","contact"],["search","blog-list"],["search","tools-list"]];for(const[r,o]of s)if(t===r&&e===o||t===o&&e===r)return"contextual";return"unrelated"}selectTransitionName(t){const{direction:e,relationship:i,fromPageType:a,toPageType:s}=t;return this.shouldUseReducedMotion()?"fade":i==="sibling"?e==="forward"?"slide-forward":"slide-backward":i==="parent-child"?a==="blog-list"&&s==="blog-post"||a==="tools-list"&&s==="tools-category"?"scale-up":"scale-down":i==="contextual"?"crossfade":"fade"}matchesPattern(t,e){return typeof e=="string"?t===e:e.test(t)}calculateRouteLevel(t){return t.split("/").filter(e=>e.length>0).length}extractCategory(t){const e=t.match(/^\/tools\/([^\/]+)/);if(e)return e[1]}findParentRoute(t){const e=t.split("/").filter(i=>i.length>0);if(!(e.length<=1))return e.pop(),"/"+e.join("/")}findChildRoutes(t){return[]}shouldUseReducedMotion(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}getAllPageTypes(){return Object.values(c)}getAllTransitions(){return new Map(this.transitionConfigs)}reset(){this.routePatterns=[],this.transitionConfigs.clear(),this.pageMetadataCache.clear(),this.initializeDefaultPatterns(),this.initializeDefaultTransitions(),this.defaultTransition=this.createDefaultTransition()}}const d=new u;function l(){const n=window.location.pathname;d.getPageType(n)}function f(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l()}f();
