<!DOCTYPE html><link rel="stylesheet" href="/_astro/about.VPL3wMkG.css" /><p>It’s perfect for small personal projects. NextJS is also a static site generator, providing the benefits of the JAM stack.
This post goes through the steps to deploy the static site on github.</p>
<hr>
<h1 id="quickly-setup-a-new-nextjs-project">Quickly setup a new NextJS project</h1>
<p>Using <code>npx</code> create a new project.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Create new NextJS project</span></span>
<span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> npx</span><span style="color:#9ECBFF"> create-next-app</span><span style="color:#9ECBFF"> nextjs-demo</span></span></code></pre>
<p>Enter the project and open the file <code>/pages/index.js</code>. Replace the contents of the file with this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">/* /pages/index.js */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> Head </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "next/head"</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> styles </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "../styles/Home.module.css"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> Home</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> className</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{styles.container}></span></span>
<span class="line"><span style="color:#E1E4E8">            &#x3C;</span><span style="color:#79B8FF">Head</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">                &#x3C;</span><span style="color:#85E89D">title</span><span style="color:#E1E4E8">>Deploy next site to gh-pages&#x3C;/</span><span style="color:#85E89D">title</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">                &#x3C;</span><span style="color:#85E89D">link</span><span style="color:#B392F0"> rel</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"icon"</span><span style="color:#B392F0"> href</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"/favicon.ico"</span><span style="color:#E1E4E8"> /></span></span>
<span class="line"><span style="color:#E1E4E8">            &#x3C;/</span><span style="color:#79B8FF">Head</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">            &#x3C;</span><span style="color:#85E89D">main</span><span style="color:#B392F0"> className</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">{styles.main}></span></span>
<span class="line"><span style="color:#E1E4E8">                &#x3C;</span><span style="color:#85E89D">h1</span><span style="color:#E1E4E8">>How to deploy a next static site to github pages&#x3C;/</span><span style="color:#85E89D">h1</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">            &#x3C;/</span><span style="color:#85E89D">main</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">        &#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    )</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Login to github and create a new project. Then push the current code to the master / main branch.</p>
<h1 id="gh-pages-library">gh-pages library</h1>
<p>It’s possible to create a static export of the project with <code>next export</code>. The exported contents in the <code>out</code> folder can be hosted now by any static host. There are some small things that might need fixing. Overall it should work though.</p>
<p>The gh-pages package copies the contents of the <code>out</code> folder to a separate branch named <code>gh-pages</code>. Github, once configured, looks for the <code>gh-pages</code> branch and will host the contents of that branch. (Check the project settings to configure github)</p>
<p><code>npm i gh-pages</code> installs <code>gh-pages</code> into the project.
Next use gh-pages to generate the out folder and copy it to gh-pages git branch.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># deploy to github pages</span></span>
<span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> rm</span><span style="color:#79B8FF"> -rf</span><span style="color:#9ECBFF"> node_modules/.cache</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">rm</span><span style="color:#79B8FF"> -rf</span><span style="color:#9ECBFF"> out</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">next</span><span style="color:#9ECBFF"> build</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">next</span><span style="color:#9ECBFF"> export</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">touch</span><span style="color:#9ECBFF"> out/.nojekyll</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">gh-pages</span><span style="color:#79B8FF"> -d</span><span style="color:#9ECBFF"> out</span><span style="color:#79B8FF"> -t</span><span style="color:#79B8FF"> true</span></span></code></pre>
<p>Add it with a script to <code>package.json</code>. For example <code>deploy</code>.
Then, execute <code>npm run deploy</code>.</p>
<h1 id="github-configuration">github configuration</h1>
<p>With the deployment done, open the project in github.
In the settings, scroll down to the section where you can configure gh-pages.</p>
<p>There switch to the branch <code>gh-pages</code>. The folder should be pointed to <code>/</code> (root).</p>
<p>Your project should now be available at: <code>https://github.io/&#x3C;username>/&#x3C;project-name></code></p>
<h2 id="custom-domain-name">Custom domain name</h2>
<p>Add the custom domain name you plan to use. For example <code>test.example.com</code>.</p>
<p>Login to your DNS provider. For example if you’re using vercel it can be added with.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D"># add DNS subdomain</span></span>
<span class="line"><span style="color:#B392F0">$</span><span style="color:#9ECBFF"> now</span><span style="color:#9ECBFF"> dns</span><span style="color:#9ECBFF"> add</span><span style="color:#9ECBFF"> example.com</span><span style="color:#9ECBFF"> test</span><span style="color:#9ECBFF"> CNAME</span><span style="color:#9ECBFF"> github.io/</span><span style="color:#F97583">&#x3C;</span><span style="color:#9ECBFF">usernam</span><span style="color:#E1E4E8">e</span><span style="color:#F97583">></span><span style="color:#9ECBFF">/</span><span style="color:#F97583">&#x3C;</span><span style="color:#9ECBFF">project-nam</span><span style="color:#E1E4E8">e</span><span style="color:#F97583">></span></span></code></pre>
<h2 id="sources">Sources</h2>

















<table><thead><tr><th>Name</th><th>Link</th></tr></thead><tbody><tr><td>NextJS</td><td><a href="https://nextjs.org/">https://nextjs.org/</a></td></tr><tr><td>Vercel</td><td><a href="https://vercel.com/">https://vercel.com/</a></td></tr></tbody></table>